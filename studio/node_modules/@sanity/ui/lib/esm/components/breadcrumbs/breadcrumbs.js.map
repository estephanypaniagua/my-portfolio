{
  "version": 3,
  "sources": ["../../../../src/components/breadcrumbs/breadcrumbs.tsx"],
  "sourcesContent": ["import React, {\n  Children,\n  forwardRef,\n  Fragment,\n  isValidElement,\n  useCallback,\n  useMemo,\n  useState,\n} from 'react'\nimport {useClickOutside} from '../../hooks'\nimport {Box, Popover, Stack, Text} from '../../primitives'\nimport {ExpandButton, Root} from './breadcrumbs.styles'\n\n/**\n * @beta\n */\nexport interface BreadcrumbsProps {\n  maxLength?: number\n  separator?: React.ReactNode\n  space?: number | number[]\n}\n\n/**\n * @beta\n */\nexport const Breadcrumbs = forwardRef(function Breadcrumbs(\n  props: BreadcrumbsProps & Omit<React.HTMLProps<HTMLOListElement>, 'as' | 'ref' | 'type'>,\n  ref: React.ForwardedRef<HTMLOListElement>\n) {\n  const {children, maxLength, separator, space = 2, ...restProps} = props\n  const [open, setOpen] = useState(false)\n  const [expandElement, setExpandElement] = useState<HTMLButtonElement | null>(null)\n  const [popoverElement, setPopoverElement] = useState<HTMLDivElement | null>(null)\n\n  const collapse = useCallback(() => setOpen(false), [])\n  const expand = useCallback(() => setOpen(true), [])\n\n  useClickOutside(collapse, [expandElement, popoverElement])\n\n  const rawItems = useMemo(\n    () =>\n      Children.toArray(children).filter((child) => {\n        return isValidElement(child)\n      }),\n    [children]\n  )\n\n  const items = useMemo(() => {\n    const len = rawItems.length\n\n    if (maxLength && len > maxLength) {\n      const beforeLength = Math.ceil(maxLength / 2)\n      const afterLength = Math.floor(maxLength / 2)\n\n      return [\n        ...rawItems.slice(0, beforeLength - 1),\n        <Popover\n          constrainSize\n          content={\n            <Stack as=\"ol\" overflow=\"auto\" padding={space} space={space}>\n              {rawItems.slice(beforeLength - 1, len - afterLength)}\n            </Stack>\n          }\n          key=\"button\"\n          open={open}\n          placement=\"top\"\n          portal\n          ref={setPopoverElement}\n        >\n          <ExpandButton\n            fontSize={1}\n            mode=\"bleed\"\n            onClick={open ? collapse : expand}\n            padding={1}\n            ref={setExpandElement}\n            selected={open}\n            text=\"\u2026\"\n          />\n        </Popover>,\n        ...rawItems.slice(len - afterLength),\n      ]\n    }\n\n    return rawItems\n  }, [collapse, expand, maxLength, open, rawItems, space])\n\n  return (\n    <Root data-ui=\"Breadcrumbs\" {...restProps} ref={ref}>\n      {items.map((item, itemIndex) => (\n        <Fragment key={itemIndex}>\n          {itemIndex > 0 && (\n            <Box aria-hidden as=\"li\" paddingX={space}>\n              {separator || <Text muted>/</Text>}\n            </Box>\n          )}\n          <Box as=\"li\">{item}</Box>\n        </Fragment>\n      ))}\n    </Root>\n  )\n})\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AAcO,MAAM,cAAc,WAAW,sBACpC,OACA,KACA;AACA,QAAkE,YAA3D,YAAU,WAAW,WAAW,QAAQ,MAAmB,IAAb,sBAAa,IAAb,CAA9C,YAAU,aAAW,aAAW;AACvC,QAAM,CAAC,MAAM,WAAW,SAAS;AACjC,QAAM,CAAC,eAAe,oBAAoB,SAAmC;AAC7E,QAAM,CAAC,gBAAgB,qBAAqB,SAAgC;AAE5E,QAAM,WAAW,YAAY,MAAM,QAAQ,QAAQ;AACnD,QAAM,SAAS,YAAY,MAAM,QAAQ,OAAO;AAEhD,kBAAgB,UAAU,CAAC,eAAe;AAE1C,QAAM,WAAW,QACf,MACE,SAAS,QAAQ,UAAU,OAAO,CAAC,UAAU;AAC3C,WAAO,eAAe;AAAA,MAE1B,CAAC;AAGH,QAAM,QAAQ,QAAQ,MAAM;AAC1B,UAAM,MAAM,SAAS;AAErB,QAAI,aAAa,MAAM,WAAW;AAChC,YAAM,eAAe,KAAK,KAAK,YAAY;AAC3C,YAAM,cAAc,KAAK,MAAM,YAAY;AAE3C,aAAO;AAAA,QACL,GAAG,SAAS,MAAM,GAAG,eAAe;AAAA,QACpC,oCAAC,SAAD;AAAA,UACE,eAAa;AAAA,UACb,SACE,oCAAC,OAAD;AAAA,YAAO,IAAG;AAAA,YAAK,UAAS;AAAA,YAAO,SAAS;AAAA,YAAO;AAAA,aAC5C,SAAS,MAAM,eAAe,GAAG,MAAM;AAAA,UAG5C,KAAI;AAAA,UACJ;AAAA,UACA,WAAU;AAAA,UACV,QAAM;AAAA,UACN,KAAK;AAAA,WAEL,oCAAC,cAAD;AAAA,UACE,UAAU;AAAA,UACV,MAAK;AAAA,UACL,SAAS,OAAO,WAAW;AAAA,UAC3B,SAAS;AAAA,UACT,KAAK;AAAA,UACL,UAAU;AAAA,UACV,MAAK;AAAA;AAAA,QAGT,GAAG,SAAS,MAAM,MAAM;AAAA;AAAA;AAI5B,WAAO;AAAA,KACN,CAAC,UAAU,QAAQ,WAAW,MAAM,UAAU;AAEjD,SACE,oCAAC,MAAD;AAAA,IAAM,WAAQ;AAAA,KAAkB,YAAhC;AAAA,IAA2C;AAAA,MACxC,MAAM,IAAI,CAAC,MAAM,cAChB,oCAAC,UAAD;AAAA,IAAU,KAAK;AAAA,KACZ,YAAY,KACX,oCAAC,KAAD;AAAA,IAAK,eAAW;AAAA,IAAC,IAAG;AAAA,IAAK,UAAU;AAAA,KAChC,aAAa,oCAAC,MAAD;AAAA,IAAM,OAAK;AAAA,KAAC,OAG9B,oCAAC,KAAD;AAAA,IAAK,IAAG;AAAA,KAAM;AAAA;",
  "names": []
}
